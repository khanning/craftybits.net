(this["webpackJsonpcraftybits-ide"]=this["webpackJsonpcraftybits-ide"]||[]).push([[0],{22:function(e,t,n){},25:function(e,t,n){},30:function(e,t,n){},31:function(e,t,n){},32:function(e,t,n){},33:function(e,t,n){},34:function(e,t,n){},35:function(e,t,n){},36:function(e,t,n){},37:function(e,t,n){},38:function(e,t,n){"use strict";n.r(t);var r=n(2),a=n.n(r),s=n(12),c=n.n(s),i=(n(22),n(4)),o=n(5),u=n(10),l={settings:!1};function f(e,t){switch(t.type){case"SET_VISIBLE":return Object(u.a)({},t.modal,!0);case"SET_HIDDEN":return Object(u.a)({},t.modal,!1);default:return e}}var h=n(0),p=Object(r.createContext)();function d(e){var t=Object(r.useReducer)(f,l),n=Object(o.a)(t,2),a=n[0],s=n[1],c={setVisible:function(e){s({type:"SET_VISIBLE",modal:e})},setHidden:function(e){s({type:"SET_HIDDEN",modal:e})}};return Object(h.jsx)(p.Provider,{value:{modalState:a,modalActions:c},children:e.children})}function b(e){localStorage.setItem("craftybits.config",JSON.stringify(e))}function v(e,t){var n;switch(t.type){case"SET_AUTOCONNECT":return b(n=Object(i.a)(Object(i.a)({},e),{},{auto:t.auto})),n;case"SET_USBTYPE":return b(n=Object(i.a)(Object(i.a)({},e),{},{usb:t.usb})),n;case"SET_CONNECTED":case"SET_DISCONNECTED":return Object(i.a)(Object(i.a)({},e),{},{connected:!0});case"SET_DEVICE_INFO":return Object(i.a)(Object(i.a)({},e),{},{info:t.info});case"CLEAR_DEVICE_INFO":return Object(i.a)(Object(i.a)({},e),{},{info:{}});default:return e}}var g=Object(r.createContext)(),m={usb:"hid",auto:!1,info:{}};function w(e){m.auto=e.value.auto,m.usb=e.value.usb;var t=Object(r.useReducer)(v,m),n=Object(o.a)(t,2),a=n[0],s=n[1],c={setAutoconnect:function(e){s({type:"SET_AUTOCONNECT",auto:e})},setWebSerial:function(e){s({type:"SET_USBTYPE",usb:e?"webserial":"hid"})},setConnected:function(){s({type:"SET_CONNECTED"})},setDisconnected:function(){s({type:"SET_DISCONNECTED"})},setDeviceInfo:function(e){s({type:"SET_DEVICE_INFO",info:e})},clearDeviceInfo:function(e){s({type:"CLEAR_DEVICE_INFO"})}};return Object(h.jsx)(g.Provider,{value:{settingsState:a,settingsActions:c},children:e.children})}var j=n(1),x=n.n(j),y=n(3),k=(n(25),n(8));n(30);var O=function(e){return Object(h.jsxs)("div",{className:"monitor-frame",children:[Object(h.jsx)("div",{className:"monitor-label",children:e.num}),Object(h.jsx)("div",{className:"monitor-val",children:e.val})]})};var C=Object(k.b)((function(e){return{monitors:e.monitors}}))((function(e){var t=Object(r.useState)(!1),n=Object(o.a)(t,2),a=n[0],s=n[1],c=Object(r.useRef)(null),i=Object(r.useRef)(!0);return Object(r.useEffect)((function(){if(i.current)return i.current=!1,null;s(!0),c.current&&clearTimeout(c.current),c.current=setTimeout((function(){s(!1)}),2e3)}),[e.monitors]),Object(h.jsx)(h.Fragment,{children:a?e.monitors.map((function(e,t){return Date.now()-e.timestamp>3e3?null:Object(h.jsx)(O,{num:t+1,val:e.value},t)})):null})}));n(31);var E=function(e){var t="icon-button ";return t+=e.connected?"connected":"",Object(h.jsx)("div",{title:e.title,className:t,onClick:e.handleClick,children:Object(h.jsx)("img",{className:"icon-button-img ".concat(e.type),src:e.src,alt:e.alt})})},S=n.p+"static/media/settings.f0367329.svg";var D=function(){var e=Object(r.useContext)(p).modalActions;return Object(h.jsx)(E,{title:"Change editor settings",src:S,alt:"Settings Icon",type:"settings",handleClick:function(t){e.setVisible("settings")}})},L=n(6),I=n(7),N=n(9),A=new(function(){function e(){Object(L.a)(this,e),this.port=null,this.reader=null,this.writer=null,this.isConnected=!1,this.onDisconnected=this.onDisconnected.bind(this),this.waitCallback=null,this.waitBuffer=[],this.waitFlag=null,this.waitLength=0,this.callbackListeners={connect:{},disconnect:{},receive:{}}}return Object(I.a)(e,[{key:"registerListener",value:function(e,t){this.callbackListeners[e]?this.callbackListeners[e][t]=t:console.log("Error: Invalid listener type: ".concat(e))}},{key:"removeListener",value:function(e,t){this.callbackListeners[e]?delete this.callbackListeners[e][t]:console.log("Error: Invalid listener type: ".concat(e))}},{key:"scan",value:function(){var e=Object(y.a)(x.a.mark((function e(){var t,n,r,a=this;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,navigator.serial.requestPort({filters:[{usbVendorId:3368,usbProductId:516}]});case 3:this.port=e.sent,e.next=9;break;case 6:return e.prev=6,e.t0=e.catch(0),e.abrupt("return");case 9:return e.next=11,this.port.open({baudRate:115200});case 11:this.writer=this.port.writable.getWriter(),this.reader=this.port.readable.getReader(),this.port&&this.setConnected(),e.prev=14;case 15:return e.next=18,this.reader.read();case 18:if(t=e.sent,n=t.value,r=t.done,n&&n.forEach((function(e){return a.processInput(e)})),!r){e.next=25;break}return this.reader.releaseLock(),e.abrupt("break",27);case 25:e.next=15;break;case 27:e.next=32;break;case 29:e.prev=29,e.t1=e.catch(14),this.onDisconnected();case 32:case"end":return e.stop()}}),e,this,[[0,6],[14,29]])})));return function(){return e.apply(this,arguments)}}()},{key:"processInput",value:function(e){var t=this;this.waitFlag===e?(this.waitCallback(),this.waitFlag=null,this.waitCallback=null):this.waitLength>0?(this.waitBuffer.push(e),--this.waitLength||(this.waitCallback(Object(N.a)(this.waitBuffer)),this.waitCallback=null,this.waitBuffer=[])):Object.keys(this.callbackListeners.receive).forEach((function(n){t.callbackListeners.receive[n](e)}))}},{key:"setConnected",value:function(){var e=this;this.isConnected=!0,Object.keys(this.callbackListeners.connect).forEach((function(t){e.callbackListeners.connect[t]()}))}},{key:"onDisconnected",value:function(){var e=this;this.isConnected=!1,Object.keys(this.callbackListeners.disconnect).forEach((function(t){e.callbackListeners.disconnect[t]()}))}},{key:"sendAndWait",value:function(){var e=Object(y.a)(x.a.mark((function e(t,n){var r=this;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.waitFlag=n,e.abrupt("return",new Promise((function(e){r.waitCallback=e,r.sendData(t)})));case 2:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"sendAndWaitLen",value:function(){var e=Object(y.a)(x.a.mark((function e(t,n){var r=this;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.waitLength=n,e.abrupt("return",new Promise((function(e){r.waitCallback=e,r.sendData(t)})));case 2:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"sendData",value:function(){var e=Object(y.a)(x.a.mark((function e(t){var n,r;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.writer){e.next=2;break}return e.abrupt("return");case 2:for(n=0;n<t.length;n+=60)r=t.slice(n,n+60),this.writer.write(new Uint8Array(r));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),e}());var T=function(e){for(var t=[],n=0;n<e.length;n++)t.push(e.charCodeAt(n));return t},R=new(function(){function e(){var t=this;Object(L.a)(this,e),this.usbDevice=null,this.VENDOR_ID=4292,this.PRODUCT_ID=60032,this.waitCallback=null,this.waitBuffer=[],this.waitFlag=null,this.waitLength=0,this.callbackListeners={connect:{},disconnect:{},receive:{}},navigator.hid.addEventListener("disconnect",(function(e){t.isUSBDevice(e.device)&&t.usbDevice&&(t.usbDevice.close(),t.usbDevice=null,Object.keys(t.callbackListeners.disconnect).forEach((function(e){t.callbackListeners.disconnect[e]()})))})),this.handleInputReport=this.handleInputReport.bind(this)}return Object(I.a)(e,[{key:"registerListener",value:function(e,t){this.callbackListeners[e]?this.callbackListeners[e][t]=t:console.log("Error: Invalid listener type: ".concat(e))}},{key:"removeListener",value:function(e,t){this.callbackListeners[e]?delete this.callbackListeners[e][t]:console.log("Error: Invalid listener type: ".concat(e))}},{key:"isUSBDevice",value:function(e){return e.vendorId===this.VENDOR_ID&&e.productId===this.PRODUCT_ID}},{key:"searchForUSB",value:function(){var e=Object(y.a)(x.a.mark((function e(){var t,n,r;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,navigator.hid.requestDevice({filters:[{vendorId:4292,productId:60032}]});case 2:t=e.sent,n=Object(o.a)(t,1),(r=n[0])&&this.startUSB(r);case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"startUSB",value:function(){var e=Object(y.a)(x.a.mark((function e(t){var n=this;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.open();case 2:if(t.opened){e.next=4;break}return e.abrupt("return");case 4:return this.usbDevice=t,this.usbDevice.oninputreport=this.handleInputReport,e.next=8,this.enableUSBUART();case 8:return e.next=10,this.setBaudrate(115200);case 10:Object.keys(this.callbackListeners.connect).forEach((function(e){n.callbackListeners.connect[e]()}));case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"handleInputReport",value:function(){var e=Object(y.a)(x.a.mark((function e(t){var n,r,a=this;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(n=function(){var e=t.data.getUint8(r);console.log(e),a.waitFlag===e?(a.waitCallback(),a.waitFlag=null,a.waitCallback=null):a.waitLength>0?(a.waitBuffer.push(e),--a.waitLength||(a.waitCallback(Object(N.a)(a.waitBuffer)),a.waitCallback=null,a.waitBuffer=[])):Object.keys(a.callbackListeners.receive).forEach((function(t){a.callbackListeners.receive[t](e)}))},r=0;r<t.data.byteLength;r++)n();case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"getReport",value:function(){var e=Object(y.a)(x.a.mark((function e(t){var n,r,a;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.usbDevice.receiveFeatureReport(t);case 2:for(n=e.sent,r=[],a=0;a<n.byteLength;a++)r.push(n.getUint8(a));return e.abrupt("return",r);case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"delay",value:function(){var e=Object(y.a)(x.a.mark((function e(t){return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e){setTimeout(e,t)})));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"sendReport",value:function(){var e=Object(y.a)(x.a.mark((function e(t,n){return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.usbDevice.sendFeatureReport(t,new Uint8Array(n));case 2:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"run",value:function(){var e=Object(y.a)(x.a.mark((function e(){return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.sendData([251]);case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"writeProgram",value:function(){var e=Object(y.a)(x.a.mark((function e(t){var n;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=(n=[253,192,63,t.length]).concat(t),e.next=4,this.sendAndWait(n,75);case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"eraseProgram",value:function(){var e=Object(y.a)(x.a.mark((function e(){var t,n,r;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(t=[253,0,140,64],n=0;n<64;n++)t.push(255);return e.next=4,this.sendAndWait(t,75);case 4:return e.next=6,this.sendAndWaitLen([252,3],1);case 6:r=e.sent,console.log(r),console.log("memory erased");case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"sendAndWait",value:function(){var e=Object(y.a)(x.a.mark((function e(t,n){var r=this;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.waitFlag=n,e.abrupt("return",new Promise((function(e){r.waitCallback=e,r.sendData(t)})));case 2:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"sendStr",value:function(){var e=Object(y.a)(x.a.mark((function e(t){return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.sendData(new Uint8Array(T(t)));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"sendAndWaitLen",value:function(){var e=Object(y.a)(x.a.mark((function e(t,n){var r=this;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.waitLength=n,e.abrupt("return",new Promise((function(e){r.waitCallback=e,r.sendData(t)})));case 2:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"sendData",value:function(){var e=Object(y.a)(x.a.mark((function e(t){var n,r;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.usbDevice){e.next=2;break}return e.abrupt("return");case 2:n=0;case 3:if(!(n<t.length)){e.next=10;break}return r=t.slice(n,n+60),e.next=7,this.usbDevice.sendReport(r.length,new Uint8Array(r));case 7:n+=60,e.next=3;break;case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"readByte",value:function(){var e=Object(y.a)(x.a.mark((function e(t){var n,r;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=[254,255&t,t>>8&255],e.next=3,this.sendAndWaitLen(n,1);case 3:r=e.sent,console.log(r);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"enableUSBUART",value:function(){var e=Object(y.a)(x.a.mark((function e(){return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.sendReport(65,[1]);case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"setBaudrate",value:function(){var e=Object(y.a)(x.a.mark((function e(t){var n,r;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(n=[],r=0;r<4;r++)n.unshift(255&t),t>>=8;return n=n.concat([0,0,3,0]),e.next=5,this.sendReport(80,n);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),e}()),B=new(function(){function e(){Object(L.a)(this,e),this.type="hid",this.commClass=R}return Object(I.a)(e,[{key:"setType",value:function(e){this.type=e,this.commClass="hid"===e?R:A}},{key:"registerListener",value:function(e,t){this.commClass.registerListener(e,t)}},{key:"removeListener",value:function(e,t){this.commClass.removeListener(e,t)}},{key:"search",value:function(){"hid"===this.type?this.commClass.searchForUSB():this.commClass.scan()}},{key:"sendAndWait",value:function(e,t){return this.commClass.sendAndWait(e,t)}},{key:"sendAndWaitLen",value:function(e,t){return this.commClass.sendAndWaitLen(e,t)}}]),e}());function F(e){return(e+256).toString(16).substring(1)}function U(e){return("00000000"+(e+4294967296).toString(16)).slice(-8)}function P(e){for(var t=[],n=0;n<e.length;n++)t.push(e.charCodeAt(n));return t}function W(){return"hid"===B.type?536887296:536997888}function _(e){J(e,0)}function V(e){return M.apply(this,arguments)}function M(){return(M=Object(y.a)(x.a.mark((function e(t){var n,r,a,s,c,i;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("[1 of 4] writing ".concat((t.length/1e3).toFixed(1),"KB to memory")),n=Date.now(),r=Date.now(),e.next=5,ee(W(),t);case 5:return a=Date.now()-r,console.log("[2 of 4] copying to flash"),r=Date.now(),e.next=10,B.sendAndWait(P("f1A000,".concat(U(W()),",").concat(U(t.length/4),"#")),85);case 10:return s=Date.now()-r,console.log("[3 of 4] reading data from flash"),r=Date.now(),e.next=15,Z(106496,t.length/4);case 15:c=e.sent,i=Date.now()-r,console.log("[4 of 4] verifying data"),G(t,c)?(console.log("Success!"),console.log("Flash time: ".concat(((Date.now()-n)/1e3).toFixed(2),"s"),"Mem write: ".concat((t.length/a).toFixed(1),"KBps"),"Flash write: ".concat((t.length/s).toFixed(1),"KBps"),"Flash read: ".concat((t.length/i).toFixed(1),"KBps"))):console.log("Flash failed");case 19:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function K(){return H.apply(this,arguments)}function H(){return(H=Object(y.a)(x.a.mark((function e(){return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,J("v",6);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function G(e,t){if(e.length!==t.length)return!1;var n=!0;return t.forEach((function(t,r){t!==e[r]&&(n=!1,console.log("verify failed: ".concat(U(r)," - should be: ").concat(U(e[r])," actual: ").concat(U(t))))})),n}function J(e,t){return q.apply(this,arguments)}function q(){return(q=Object(y.a)(x.a.mark((function e(t,n){return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise(function(){var e=Object(y.a)(x.a.mark((function e(r){var a;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,B.sendAndWaitLen(P(t),n);case 2:a=e.sent,r(a);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Y(e,t){return z.apply(this,arguments)}function z(){return(z=Object(y.a)(x.a.mark((function e(t,n){return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("webserial"!==B.type){e.next=5;break}return e.next=3,J("W".concat(U(t),",").concat(U(n),"#"),1);case 3:e.next=6;break;case 5:_("W".concat(U(t),",").concat(U(n),"#"));case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Q(e){return X.apply(this,arguments)}function X(){return(X=Object(y.a)(x.a.mark((function e(t){return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise(function(){var e=Object(y.a)(x.a.mark((function e(n){var r;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,J("w".concat(U(t),"#"),4);case 2:r=e.sent,n(r);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Z(e,t){return $.apply(this,arguments)}function $(){return($=Object(y.a)(x.a.mark((function e(t,n){return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise(function(){var e=Object(y.a)(x.a.mark((function e(r){var a;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,J("R".concat(U(t),",").concat(U(n),"#"),4*n);case 2:a=e.sent,r(a);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ee(e,t){return te.apply(this,arguments)}function te(){return(te=Object(y.a)(x.a.mark((function e(t,n){var r,a,s;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(;n.length%4>0;)n.push(0);r=new Uint8Array(n),a=new DataView(r.buffer),s=0;case 4:if(!(s<r.length)){e.next=10;break}return e.next=7,Y(t+s,a.getUint32(s,!0));case 7:s+=4,e.next=4;break;case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ne(e,t){return re.apply(this,arguments)}function re(){return(re=Object(y.a)(x.a.mark((function e(t,n){var r;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=[],0;case 2:if(!(r.length<n)){e.next=12;break}return e.t0=r,e.next=6,Q(t);case 6:e.t1=e.sent,r=e.t0.concat.call(e.t0,e.t1),t+=4;case 9:4,e.next=2;break;case 12:return e.abrupt("return",r.slice(0,n));case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ae(e,t){return se.apply(this,arguments)}function se(){return(se=Object(y.a)(x.a.mark((function e(t,n){var r,a;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=[],0;case 2:if(!(r.length<n)){e.next=13;break}return a=0,e.next=6,Q(t);case 6:e.sent.forEach((function(e,t){a|=e<<8*t})),r=r.concat(a),t+=4;case 10:4,e.next=2;break;case 13:return e.abrupt("return",r);case 14:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ce(e,t){return ie.apply(this,arguments)}function ie(){return(ie=Object(y.a)(x.a.mark((function e(t,n){return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(n),e.next=3,ee(t,n);case 3:return e.next=5,B.sendAndWait(P("f2A000,".concat(U(t),",").concat(Math.ceil(n.length/4),"#")),85);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function oe(e,t){return ue.apply(this,arguments)}function ue(){return(ue=Object(y.a)(x.a.mark((function e(t,n){return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ee(t,n);case 2:return e.next=4,B.sendAndWait(P("f2B000,".concat(U(t),",").concat(U(n.length/4),"#")),85);case 4:console.log("procs written");case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function le(e){return fe.apply(this,arguments)}function fe(){return(fe=Object(y.a)(x.a.mark((function e(t){var n;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.length,t.unshift(255&n,n>>8&255,n>>16&255,n>>24&255),e.next=4,ee(W(),t);case 4:return e.next=6,B.sendAndWait(P("f2C000,".concat(U(W()),",").concat(U((t.length+4)/4),"#")),85);case 6:console.log("source saved");case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function he(){return(he=Object(y.a)(x.a.mark((function e(){return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise(function(){var e=Object(y.a)(x.a.mark((function e(t){var n,r,a;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ae(180224,1);case 2:return n=e.sent,e.next=5,ne(180228,n);case 5:r=e.sent,a="",r.forEach((function(e){255!==e&&0!==e&&(a+=String.fromCharCode(e))})),t(a);case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function pe(){_("G")}function de(){return(de=Object(y.a)(x.a.mark((function e(t,n){return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.push(0),e.next=3,ce(t,n);case 3:pe();case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var be=function(e){if(5===e.length){var t={};return t.type="b"===e[4]?"bootloader":"v"===e[4]?"vm":"unknown",t.major=e[1],t.minor=e[2],t.patch=e[3],t}console.log("Error: version string wrong length ".concat(e))},ve=n.p+"static/media/usb.1d2cfada.svg",ge=function(){var e=Object(r.useState)(!1),t=Object(o.a)(e,2),n=t[0],a=t[1],s=Object(r.useContext)(g),c=s.settingsState,i=s.settingsActions;return Object(r.useEffect)((function(){function e(){return t.apply(this,arguments)}function t(){return(t=Object(y.a)(x.a.mark((function e(){var t,n,r,s;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a(!0),t="",e.next=4,K();case 4:for(n=e.sent,r=0;r<n.length-1;r++)t+=String.fromCharCode(n[r]);s=be(t),i.setDeviceInfo(s),i.setConnected();case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function n(){a(!1),i.clearDeviceInfo(),i.setDisconnected()}return B.setType(c.usb),B.registerListener("connect",e),B.registerListener("disconnect",n),function(){B.removeListener("connect",e),B.removeListener("disconnect",n)}}),[c,i]),Object(h.jsx)(E,{title:"Connect to board with USB",src:ve,alt:"USB Icon",connected:n,handleClick:function(e){B.search()}})},me=n.p+"static/media/download.a641fbae.svg";var we=function(e){return Object(h.jsxs)("div",{className:"header-frame",children:[Object(h.jsx)("div",{className:"header-title",onClick:e.onToggleMenu,children:"CraftyBits LOGO"}),Object(h.jsx)("div",{className:"stretch",children:Object(h.jsx)(C,{})}),Object(h.jsx)(D,{}),Object(h.jsx)(E,{src:me,handleClick:e.onDownload}),Object(h.jsx)(ge,{}),e.menuVisible&&Object(h.jsxs)("div",{className:"header-menu",children:["Flash firmware",Object(h.jsx)("br",{}),"Test"]})]})},je=function(){function e(t){Object(L.a)(this,e),this.str=t,this.offset=0}return Object(I.a)(e,[{key:"readList",value:function(){for(var e=[];!this.eof();){var t=this.readToken();if(null==t)break;e.push(t)}return e}},{key:"readToken",value:function(){var e=this.next(),t=Number(e);if(!isNaN(t))return t;var n=e.charAt(0);return"]"===n?null:"["===n?this.readList():e}},{key:"next",value:function(){if("'"===this.peekChar())return this.readString();var e="";if(this.delim())e=this.nextChar();else for(;!this.eof()&&!this.delim();)e+=this.nextChar();return this.skipSpace(),e}},{key:"readString",value:function(){this.nextChar();for(var e="'";;){var t=this.nextChar();if(e+=t,"'"===t)return this.skipSpace(),e;if(this.eof())return e+"'"}}},{key:"nextLine",value:function(){for(var e="";;){if(this.eof())return e;var t=this.nextChar();if("\n"===t)return e;e+=t}}},{key:"skipSpace",value:function(){for(;;){if(this.eof())return;var e=this.peekChar();if(-1===" \t\r\n,".indexOf(e))return;this.nextChar()}}},{key:"delim",value:function(){return-1!=="()[] \t\r\n".indexOf(this.peekChar())}},{key:"peekChar",value:function(){return this.str.charAt(this.offset)}},{key:"nextChar",value:function(){return this.str.charAt(this.offset++)}},{key:"eof",value:function(){return this.str.length===this.offset}}]),e}(),xe=["stop","c",0,"output","c",0,"if","c",2,"ifelse","c",3,"repeat","c",2,"loop","c",1,"waituntil","c",1,"+","r",-1,"-","r",-1,"*","r",-1,"/","r",-1,"%","r",-1,"=","r",-1,"!=","r",-1,">","r",-1,"<","r",-1,"and","r",-1,"or","r",-1,"xor","r",-1,"not","r",1,"<<","r",-1,">>","r",-1,"putc","c",1,"prs","c",1,"print","c",1,"prh","c",1,"prhb","c",1,"prf","c",2,"read","r",1,"write","c",2,"readb","r",1,"writeb","c",2,"bset","c",2,"bclr","c",2,"btst","r",2,"ticks","r",0,"resett","c",0,"timer","r",0,"wait","c",1,"random","r",0,"nop","c",0,"ignore","r",1,"readd","r",0,"reada","r",0,"outd","c",1,"outa","c",1,"rsend","c",1,"rrecv","r",0,"rsetbox","c",2,"rgetbox","r",0,"log","c",1,"mon","c",2,"setled","c",2,"setbrightness","c",2,"setservo","c",1],ye=["box1","box2","box3","rbox1","rbox2","rbox3"],ke={all:9999,off:-1};function Oe(e){var t=new je(e);return t.skipSpace(),t.readList()}var Ce=new(function(){function e(){Object(L.a)(this,e)}return Object(I.a)(e,[{key:"lprint",value:function(e){console.log(e)}},{key:"compile",value:function(e){this.pc=0;try{this.thisproc=void 0;var t=this.compileCommands(Oe(e));return this.encodeItems(t)}catch(n){console.log(n)}return null}},{key:"downloadProcs",value:function(e){this.pc=this.procaddr;try{this.setup();var t=this.compileProcs(e);return Ce.dump(this.procaddr,t),t}catch(n){console.log(n)}}},{key:"vectors",value:function(){for(var e=this,t=[],n=0,r=0;r<e.vectorlen;r++)t.push(0);return function(t,n){a(t,n);for(var r=1;r<e.vectorlen/4;r++)a(t+r,n)}("on-start",0),t;function a(r,a){var s=e.oblist[r];if(void 0!==s){var c=s.addr;t[n++]=a,t[n++]=255&c,t[n++]=c>>8&255,n++}}}},{key:"compileProcs",value:function(e){for(var t=this,n=new je(e);!n.eof();)a();for(var r in t.procnames)s(t.procnames[r]);return t.encodeProcs();function a(){var e=n.offset,r=Oe(n.nextLine());function a(){n.offset=e,n.readToken()}0!==r.length&&("to"===r[0]?function(){var e=r[1],a={};(function(){if(1===r.length)throw new Error('"to" needs to be followed by a name');if("string"!=typeof r[1])throw new Error(r[1]+" can't be used as a name");a.args=[],a.locals=[];var e=r.slice(2);for(var n in e){var s=e[n];if("string"!=typeof s)throw new Error('"'+s.toString().replace(","," ")+"\" can't be used as an input name");if(":"!==s[0])throw new Error('"'+s+'" needs a ":" to be an input');t.oblist[s]={type:"getlocal",outputs:!0},t.oblist["set"+s]={type:"setlocal",outputs:!1},a.args.push(s)}})(),a.type="ufun",a.len=3,a.nargs=r.length-2,a.body=function(){for(var e="";;){if(n.eof())return e;var t=n.nextLine();if("end"===t)return e;e=e+t+"\n"}}(),a.outputs=null!=a.body.match(/(^|\W)output\W/),t.oblist[e]=a,t.procnames.push(e)}():"constants"===r[0]?function(){a();var e=n.readToken();for(var r in e)t.constants[e[r][0]]=e[r][1]}():"global"===r[0]&&function(){a();var e=n.readToken();for(var r in e)t.setupGlobal(e[r])}())}function s(e){var n=t.oblist[e];t.thisproc=e,n.addr=t.pc,t.pc+=2,n.items=t.compileCommands(Oe(n.body+"stop\n"))}}},{key:"compileCommands",value:function(e){for(var t=this,n=[];e.length>0;)r(e.shift());return n;function r(n,i){var f,h=typeof n;"number"===h?a(n):"object"===h?function(t){l(["list",0],3);var n=e;e=t;for(;e.length>0;)r(e.shift());e=n,l(["eol",0],1)}(n):"'"===n.substring(0,1)?(f=(f=(f=(f=n).substring(1)).substring(0,f.length-1)).replaceAll("\\n","\r"),l(["string",f+=String.fromCharCode(0)],f.length+3)):":"===n.substring(0,1)?function(e){var t=o(e);if(void 0===t)throw new Error(e+" has no value"+u());l(["localget",t],2)}(n):"set:"===n.substring(0,4)?s(n):function(n){var r=t.oblist[n];if(void 0!==ke[n])a(ke[n]);else{if(void 0===r)throw new Error("I don't know how to '".concat(n+u(),"'"));"global"===r.type?h(r.index):"setglobal"===r.type?f(r.index):"let"===r.type?d():"make"===r.type?b():"opar"===r.type?v():"waituntil"===r.type?p():i()}function i(){c(r.nargs,n),l([r.type,n],r.len)}function f(e){c(1,r);var t=e>2;l(["globalset",t?e-3:e,t?1:0],3)}function h(e){var t=e>2;l(["globalget",t?e-3:e,t?1:0],3)}function p(){l(["list",0],3);var t=e;e=e.shift(),c(1,"waituntil"),e=t,l(["eolr",0],1),l(["prim","waituntil"],1)}function d(){var n=e;for(e=n.shift();e.length>0;){var r=":"+e.shift();t.oblist[r]={type:"getlocal",outputs:!0},t.oblist["set"+r]={type:"setlocal",outputs:!1},t.oblist[t.thisproc].locals.push(r),s("set"+r)}e=n}function b(){var t=e.shift();":"===t.substring(0,1)&&(t=t.substring(1)),'"'===t.substring(0,1)&&(t=t.substring(1));var n=o(t=":"+t);if(void 0===n)throw new Error(t+" has no value"+u());c(1,"make"),l(["localset",n],2)}function v(){if(c(1,"("),")"!==e.shift())throw new Error("() error|")}}(n);var p=t.oblist[n]&&!t.oblist[n].outputs;if(!p&&void 0===i)throw new Error("you don't say what to do with "+n+u());if(i&&p)throw new Error(n+" doesn't output to "+i+u())}function a(e){e<256&&e>=0&&e===Math.round(e)?l(["byte",e],2):l(["number",e],5)}function s(e){var t=e.substring(3),n=o(t);if(void 0===n)throw new Error(t+" has no value"+u());c(1,e),l(["localset",n],2)}function c(t,n){for(var a=0;a<t;a++){if(0===e.length)throw new Error(n+" needs more inputs"+u());r(e.shift(),n),i()}}function i(){if(e.length>0&&t.oblist[e[0]]&&-1===t.oblist[e[0]].nargs){var n=e.shift();if(0===e.length)throw new Error(n+" needs more inputs"+u());r(e.shift(),n),l(["prim",n],1),i()}}function o(e){if(void 0!==t.thisproc){var n=t.oblist[t.thisproc].args,r=n.indexOf(e);if(-1!==r)return n.length-1-r;if(-1!==(r=t.oblist[t.thisproc].locals.indexOf(e)))return 255&-r-1}}function u(){return t.thisproc?" in "+t.thisproc:""}function l(e,r){n.push([t.pc].concat(e)),t.pc+=r}}},{key:"encodeItems",value:function(e){var t=[],n=[];for(var r in e)this.encodeItem(e[r],t,n);return t}},{key:"encodeProcs",value:function(){var e=[],t=[];for(var n in this.procnames){var r=this.oblist[this.procnames[n]],a=r.items;for(var s in e.push(r.args.length),e.push(r.locals.length),a)this.encodeItem(a[s],e,t)}return e}},{key:"encodeItem",value:function(e,t,n){var r=e[2];switch(e[1]){case"byte":t.push(1),t.push(255&r);break;case"number":t.push(2),t.push(255&r),t.push(r>>8&255),t.push(r>>16&255),t.push(r>>24&255);break;case"list":t.push(3),n.push(t.length),t.push(0),t.push(0);break;case"string":t.push(3),t.push(255&r.length),t.push(r.length>>8&255),r.split("").forEach((function(e){t.push(e.charCodeAt(0))}));break;case"eol":a(4);break;case"eolr":a(5);break;case"localget":t.push(6),t.push(r);break;case"localset":t.push(7),t.push(r);break;case"globalget":t.push(8),t.push(r),t.push(e[3]);break;case"globalset":t.push(9),t.push(r),t.push(e[3]);break;case"prim":t.push(this.oblist[r].code);break;case"pseudoprim":case"ufun":t.push(10),t.push(255&this.oblist[r].addr),t.push(this.oblist[r].addr>>8&255);break;default:t.push(e[1])}function a(e){t.push(e);var r=n.pop(),a=t.length-r-2;t[r]=255&a,t[r+1]=a>>8&255}}},{key:"dumpw",value:function(e,t){for(var n=0;n<t.length;n+=4){for(var r=U(e+n)+" - ",a=0;a<4&&!(n+a>=t.length);a++)r+=U(t[a+n]),r+=" ";console.log(r)}}},{key:"dump",value:function(e,t){for(var n=0;n<t.length;n+=8){for(var r=U(e+n)+" - ",a=0;a<8&&!(n+a>=t.length);a++)r+=F(t[a+n]),r+=" ";console.log(r)}}},{key:"setupGlobal",value:function(e){this.oblist[e]={type:"global",index:this.nextglobal,outputs:!0},this.oblist["set"+e]={type:"setglobal",index:this.nextglobal,outputs:!1},this.nextglobal++}},{key:"setup",value:function(){var e=this;for(var t in this.procaddr=0,e.vectorlen=4,e.oblist={},e.constants={},e.nextglobal=0,e.procnames=[],function(){var t=11,n=[].concat(xe);for(;n.length>0;){var r=n.shift(),a="r"===n.shift(),s=n.shift();e.oblist[r]={type:"prim",len:1,code:t++,nargs:s,outputs:a}}}(),e.oblist.let={type:"let",outputs:!1},e.oblist.make={type:"make",outputs:!1},e.oblist["("]={type:"opar",outputs:!0},e.oblist.waituntil.type="waituntil",ye)e.setupGlobal(ye[t])}}]),e}());Ce.setup();var Ee=Ce;for(var Se=function(e){var t=Object(r.useState)(!1),n=Object(o.a)(t,2),a=n[0],s=n[1],c=function(){var t=Object(y.a)(x.a.mark((function t(){var n,r,a;return x.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=e.procRef.current.value,r=P(n),(a=Ee.downloadProcs(n))&&0!==a.length){t.next=5;break}return t.abrupt("return");case 5:return t.next=7,oe(W(),a);case 7:return t.next=9,le(r);case 9:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return Object(h.jsx)(we,{onToggleMenu:function(e){s(!a)},menuVisible:a,onDownload:c})},De="setMonitor",Le=[],Ie=0;Ie<10;Ie++)Le.push({value:0,timestamp:0});var Ne={monitors:Le};var Ae=function(e){if(5===e.length){var t={};return t.type="b"===e[4]?"bootloader":"v"===e[4]?"vm":"unknown",t.major=e[1],t.minor=e[2],t.patch=e[3],t}console.log("Error: version string wrong length ".concat(e))};n(32);var Te=function(e){var t="left"===e.side?"10px 5px 10px 10px":"10px 10px 10px 5px",n={display:"flex",flex:e.flex,padding:t};return Object(h.jsxs)("div",{className:"editor-frame",style:n,children:[Object(h.jsx)("div",{className:"editor-tools",children:e.tools}),Object(h.jsx)("div",{className:"editor-text-frame",children:Object(h.jsx)("textarea",{ref:e.textRef,className:"editor-text",onKeyDown:e.onChange,defaultValue:e.defaultValue,autoCapitalize:"false",autoCorrect:"false",autoComplete:"false",spellCheck:"false"})})]})};var Re=Object(k.b)(null,(function(e){return{updateMonitor:function(t,n){return e(function(e,t){return{type:De,mon:e,val:t}}(t,n))}}}))((function(e){var t=Object(r.useContext)(g).settingsActions,n=Object(r.useRef)(null);return Object(r.useEffect)((function(){var r="";function a(a){13===a?("%"===r[0]?console.log(r.substr(1)):"*"===r[0]?function(e){var n=Ae(e);t.setDeviceInfo(n)}(r):"#"===r[0]?e.updateMonitor(r[1],r.substr(2)):function(e){e+="\n";var t=n.current,r=t.selectionStart,a=t.selectionEnd,s=t.value,c=s.substring(0,r),i=s.substring(a),o=t.scrollTop;t.value=c+e;var u=t.scrollHeight-t.scrollTop-t.offsetHeight;t.value=c+e+i,t.selectionStart=r+e.length,t.selectionEnd=r+e.length,u>0?t.scrollTop+=u:t.scrollTop=o}(r),r=""):r+=String.fromCharCode(a)}return B.registerListener("receive",a),function(){B.removeListener("receive",a)}}),[]),Object(h.jsx)(Te,{textRef:n,flex:e.weight,side:e.side,onChange:function(e){13===e.keyCode&&(e.shiftKey?function(e){e.preventDefault();var t=n.current,r=t.selectionStart,a=t.value,s=a.substring(0,r),c=a.substring(r);t.value=s+"\n"+c,t.selectionStart=r+1,t.selectionEnd=r+1}(e):function(e){var t=n.current,r=t.selectionStart,a=t.value.lastIndexOf("\n",r-1),s=t.value.indexOf("\n",r);s<0&&(s=t.value.length);t.selectionStart=s+1,s!==t.value.length&&e.preventDefault();var c=t.value.substring(a+1,s),i=Ee.compile(c);i&&function(e,t){de.apply(this,arguments)}(W(),i)}(e))},defaultValue:"Welcome to LOGO!\n"})})),Be=(n(33),function(e){var t=Object(r.useState)(null),n=Object(o.a)(t,2),a=n[0],s=n[1],c=Object(r.useContext)(g).settingsState;return Object(r.useEffect)((function(){Object.keys(c.info).length>0&&function(){return he.apply(this,arguments)}().then((function(e){console.log(e),Ee.downloadProcs(e),s(e)}))}),[c.info]),Object(h.jsxs)("div",{className:"editor-container",children:[Object(h.jsx)(Re,{weight:4,side:"left"}),Object(h.jsx)(Te,{flex:6,side:"right",textRef:e.procRef,defaultValue:a})]})});n(34);var Fe=function(){return Object(h.jsx)("div",{className:"footer-frame",children:"CraftyBits - Kreg Hanning 2021"})};n(35);var Ue=function(e){return Object(h.jsx)("div",{className:"box-frame",onClick:e.onClose,children:Object(h.jsx)("div",{className:"box-content",onClick:function(e){e.stopPropagation()},children:e.children})})};var Pe=function(e){return Object(h.jsx)(Ue,Object(i.a)({},e))};n(36);var We=function(e){var t=Object.keys(e.devInfo).length>0;return Object(h.jsx)(Pe,{onClose:e.closeSettings,children:Object(h.jsxs)("div",{className:"settings-frame",children:[Object(h.jsx)("div",{className:"settings-title",children:"Settings"}),Object(h.jsxs)("div",{className:"settings-row",children:["USB autoconnect",Object(h.jsx)("input",{name:"autoconnect",type:"checkbox",onChange:e.changeSettings,checked:e.autoconnect})]}),Object(h.jsxs)("div",{className:"settings-row",children:["Use WebSerial (micro:bit)",Object(h.jsx)("input",{name:"webserial",type:"checkbox",onChange:e.changeSettings,checked:e.webserial})]}),Object(h.jsx)("div",{className:"settings-title",children:"Device Info"}),Object(h.jsxs)("div",{className:"settings-row",children:["Status: ",t?"connected":"Not connected"]}),t&&Object(h.jsxs)("div",{className:"settings-dev-info",children:[Object(h.jsxs)("div",{className:"settings-row",children:["mode: ",e.devInfo.type]}),Object(h.jsxs)("div",{className:"settings-row",children:["version: ",e.devInfo.major,".",e.devInfo.minor,".",e.devInfo.patch]}),Object(h.jsx)("button",{className:"settings-button",children:"Disconnect"}),Object(h.jsx)("br",{}),!e.webserial&&Object(h.jsx)("button",{className:"settings-button",onClick:function(){var t="vm"===e.devInfo.type?"bootloader":"vm";e.onReset(t)},children:"vm"===e.devInfo.type?"Reset to Bootloader":"Launch vm"}),Object(h.jsx)("br",{}),"bootloader"===e.devInfo.type&&Object(h.jsx)("button",{className:"settings-button",onClick:e.onFlashFirmware,children:"Flash Firmware"})]})]})})};var _e=function(e){var t=Object(r.useContext)(g),n=t.settingsState,a=t.settingsActions,s=Object(r.useContext)(p).modalActions;function c(e){var t=e.target.files[0],n=new FileReader;n.onload=function(e){V(new Uint8Array(e.target.result))},n.readAsArrayBuffer(t)}return Object(h.jsx)(We,Object(i.a)({autoconnect:n.auto,webserial:"webserial"===n.usb,devInfo:n.info,closeSettings:function(){s.setHidden("settings")},changeSettings:function(e){switch(e.target.name){case"autoconnect":a.setAutoconnect(e.target.checked);break;case"webserial":a.setWebSerial(e.target.checked)}},onReset:function(e){"bootloader"===e?J("R",0):"vm"===e&&pe()},onFlashFirmware:function(e){if(e.shiftKey){var t=document.createElement("input");t.type="file",t.oninput=c,t.click()}else fetch("https://craftybits.net/firmware/gio/latest").then((function(e){return e.arrayBuffer()})).then((function(e){V(new Uint8Array(e))}))}},e))};n(37);var Ve=function(){var e=Object(r.useContext)(p).modalState,t=Object(r.useContext)(g).settingsState,n=Object(r.createRef)();return Object(h.jsxs)("div",{className:"gui-frame",children:[t.auto,Object(h.jsx)("div",{className:"gui-header",children:Object(h.jsx)(Se,{procRef:n})}),Object(h.jsx)("div",{className:"gui-body",children:Object(h.jsx)(Be,{procRef:n})}),Object(h.jsx)("div",{className:"gui-footer",children:Object(h.jsx)(Fe,{})}),e.settings&&Object(h.jsx)(_e,{})]})};var Me=function(){var e=function(){var e=localStorage.getItem("craftybits.config");return e?JSON.parse(e):null}(),t=Object(i.a)({auto:!1},e);return Object(h.jsx)(w,{value:t,children:Object(h.jsx)(d,{children:Object(h.jsx)(Ve,{})})})},Ke=n(17);var He=function(){var e=null;return{createConnection:function(){e=new RTCPeerConnection(null),e.createDataChannel("sendDataChannel"),e.createOffer().then((function(e){console.log(e.sdp),console.log(btoa(unescape(encodeURIComponent(e.sdp))))}))}}}();window.dump=function(e,t){return new Promise((function(n){t<4&&(t=4),ne(e,t).then((function(e){return n(e)}))}))},window.writeMemory=ee,window.readMemory=ne,window.WebRTC=He,window.sendstr=_;var Ge=Object(Ke.a)((function(e,t){switch("undefined"===typeof e&&(e=Ne),t.type){case De:var n=Object(N.a)(e.monitors);return n[t.mon-1].value=t.val,n[t.mon-1].timestamp=Date.now(),Object.assign({},e,{monitors:n});default:return e}}));c.a.render(Object(h.jsx)(a.a.StrictMode,{children:Object(h.jsx)(k.a,{store:Ge,children:Object(h.jsx)(Me,{})})}),document.getElementById("root"))}},[[38,1,2]]]);
//# sourceMappingURL=main.07b08f9c.chunk.js.map